<?xml version="1.0" encoding="UTF-8"?>
<!doctype html>
<html lang="en">
    <head>
        <title>Surveys</title>
        <meta name="DC.author" content="Tim Boudreau" />
        <link href="/bootstrap/css/bootstrap.css" rel="stylesheet">
        <link href="/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
        <link href="/default.css" rel="stylesheet">
        <link href="/js/jquery-ui/css/smoothness/jquery-ui-1.10.2.custom.min.css" rel="stylesheet">
        <!--[if lte IE 8]>
            <script>
            // The ieshiv takes care of our ui.directives, bootstrap module directives and
            // AngularJS's ng-view, ng-include, ng-pluralize and ng-switch directives.
            // However, IF you have custom directives (yours or someone else's) then
            // enumerate the list of tags in window.myCustomTags

            window.myCustomTags = [ 'yourDirective', 'somebodyElsesDirective' ]; // optional
            </script>
            <script src="/js/angular-ui-ieshiv.js"></script>
        <![endif]-->

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <!-- Le fav and touch icons -->
        <link rel="shortcut icon" href="/blog/ico/favicon.ico">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/ico/apple-touch-icon-144-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/ico/apple-touch-icon-114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/ico/apple-touch-icon-72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" href="/ico/apple-touch-icon-57-precomposed.png">
    </head>
    <body ng-app>
        <div class='contentBody' ng-controller="SurveyEditor">
            <ng-include src="'/partials/topNav.html'"></ng-include>
            <h2>New Survey</h2>
            <div id='contentBody' class='container'>
                <div class='controls pull-right'>
                    <ul class="nav nav-pills nav-stacked">
                        <li><a href='#question{{survey.questions.length}}' ng-click='addQuestion()' class='btn'>Add Question</a></li>
                        <li><a href='#' ng-click='save()' class='btn-primary'>Save</a></li>
                    </ul>
                </div>
                <div ng-show="survey">
                    <form class="form-horizontal">
                        <div class="control-group row">
                            <span class='span10'>
                                <label class='control-label' for="#name">Name</label>
                                <input type="text" name="name" ng-model="survey.name"></input>
                                <small class="muted">The name / survey title</small>
                            </span>
                        </div>
                        <div class="control-group row">
                            <span class='span10'>
                                <label class='control-label' for="#description">Description</label>
                                <input type="text" name="description" ng-model="survey.description"></input>
                                <small class="muted">A description of the survey</small>
                            </span>
                        </div>
                        <div class='row' ui-scrollfix>
                            <h3 class='span1'>Questions</h3>
                        </div>
                        <div ng-repeat="question in survey.questions" class='container-fluid'>
                            <div class='well questionContainer'>
                                <a name='question{{survey.questions.indexOf(question) + 1}}'>
                                    <h4>Question {{survey.questions.indexOf(question) + 1}}</h4>
                                </a>
                                <div class='row-fluid'>
                                    <span class='span5 control-group'>
                                        <label class='control-label' >Type</label>
                                        <select ng-model='question.answerType.type'>
                                            <option ng-repeat="type in answerTypes" value="{{type.type}}">{{type.name}}</option>
                                        </select>
                                    </span>
                                </div>
                                <div class='row-fluid'>
                                    <span class='span5 control-group'>
                                        <label class='control-label'>Description</label>
                                        <input type='text' ng-model='question.description'></input>
                                    </span>
                                </div>
                                <div class='row-fluid'>
                                    <span class='span5 control-group'>
                                        <label class='control-label'>Help Text</label>
                                        <textarea rows='5' ng-model='question.help'></textarea>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <ng-include src='"/partials/bottom.html"'></ng-include>
        </div>
        <script src="/bootstrap/js/jquery.min.js"></script>
        <script src="/bootstrap/js/bootstrap-modal.min.js"></script>
        <script src="/js/jquery-ui/js/jquery-ui-1.10.2.custom.min.js"></script>
        <script src="/angular/angular.min.js"></script>
        <script src="/js/angular-ui.js"></script>
        <script src="/js/base64.js"></script>
        <script src="/scripts/newsurvey.js"></script>
    </body>
</html>
